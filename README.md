[![Tests](../../actions/workflows/tests-13-sprint.yml/badge.svg)](../../actions/workflows/tests-13-sprint.yml) [![Tests](../../actions/workflows/tests-14-sprint.yml/badge.svg)](../../actions/workflows/tests-14-sprint.yml)

# Проект Mesto фронтенд + бэкенд

Бэкенд сервиса Mesto. Сервер - Express, БД - MongoDB с двумя схемами (пользователи, карточки). Обработка ошибок для запросов. Настроены конфигурации для ESLint, Prettier.

## Репозиторий

https://github.com/Segodnya/express-mesto-gha

## Директории

`/routes` — папка с файлами роутера  
`/controllers` — папка с файлами контроллеров пользователя и карточки  
`/models` — папка с файлами описания схем пользователя и карточки
`/utils` — папка с файлов констант для кодов ошибок

## Запуск проекта

`npm run start` — запускает сервер  
`npm run dev` — запускает сервер с hot-reload
`npm run lint` - запускает проверку ESLint

## Библиотеки

- Rate Limit: https://www.npmjs.com/package/express-rate-limit
- Helmet: https://expressjs.com/en/advanced/best-practice-security.html

## TODO

- Реализовать авторизацию и регистрацию пользователей:

1. Добавить email и password к схеме пользователя
2. Доработать контроллер createUser
3. Создать контроллер login
4. Создать роуты для логина и регистрации
5. Создать мидлвэр для авторизации
6. Создать контроллер и роут для получения информации о пользователе
7. Защитить API авторизацией
8. Удалить хардкод для пользовательского id
9. Проконтролировать права пользователей
10. Сделать так, чтобы API не возвращал хеш пароля

- Прочие доработки:

1. Реализовать централизованную обработку ошибок
2. Провалидировать приходящие на сервер запросы
3. Провалидировать данные на уровне схемы
